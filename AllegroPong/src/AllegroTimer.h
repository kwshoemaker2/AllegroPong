#pragma once
#include <allegro5/allegro.h>
#include "AllegroPong.h"
#include "IEventSource.h"

namespace Pong {
    ////////////////////////////////////////////////////////////////////////////
    class AllegroTimer : public IEventSource
    {
    public:
        ////////////////////////////////////////////////////////////////////////
        AllegroTimer() = default;

        ////////////////////////////////////////////////////////////////////////
        ~AllegroTimer();

        ////////////////////////////////////////////////////////////////////////
        bool Create(FLOAT64 seconds);

        ////////////////////////////////////////////////////////////////////////
        bool Destroy();

        ////////////////////////////////////////////////////////////////////////
        bool Start();

        ////////////////////////////////////////////////////////////////////////
        bool Stop();

        ////////////////////////////////////////////////////////////////////////
        EventSource* GetEventSource() const override;
    private:
        ALLEGRO_TIMER* mAllegroTimer = nullptr;
    };
}
